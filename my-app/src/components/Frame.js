import React, { useState } from 'react';
import { Col, Row } from 'react-bootstrap';
import Chart from './charts/Chart'
import Tree from './charts/Tree'
import Toolbar from './Toolbar'
import '../style/style.css';



function Frame() {
  const json = require('../data/nested_no_lookback.json');
  const data = json.children
  const [currentData, updateData] = useState(data)
  const [view, setView] = useState("layout");

  if (view == "layout") {
    return (
      <div className="frame-container">
        <Row>
          <Col lg={4}>
            <Toolbar view={"layout"} data={currentData} />
            <div onClick={() => setView("tree")} className="switch-btn">
              <svg width="100%" height="100%"><path d="M29.1,28.71a1.92,1.92,0,0,0-.86.21l-3-3A1.88,1.88,0,0,0,25.18,24l2.92-2.92a1.89,1.89,0,0,0,1,.29,1.92,1.92,0,1,0-1.92-1.92,2,2,0,0,0,.29,1l-2.91,2.91a2,2,0,0,0-1-.29A1.92,1.92,0,0,0,21.63,25a1.9,1.9,0,0,0,.29,1l-3,3a1.89,1.89,0,0,0-1-.29,2,2,0,0,0-1,.3l-3-3a1.85,1.85,0,0,0,.29-1,1.92,1.92,0,0,0-.29-1l3-3a2,2,0,0,0,1,.3,1.91,1.91,0,0,0,1.61-2.95l3-3a1.94,1.94,0,0,0,1.06.32,1.94,1.94,0,1,0-1.66-1l-3,3a1.84,1.84,0,0,0-1-.28A1.93,1.93,0,0,0,16,19.44a1.86,1.86,0,0,0,.28,1l-3,3a1.92,1.92,0,1,0-1,3.56,2,2,0,0,0,1-.29l3,3a1.91,1.91,0,0,0,1.65,2.9,1.84,1.84,0,0,0,1-.28l3,3a2,2,0,0,0-.23.9,1.92,1.92,0,1,0,1.92-1.92,1.9,1.9,0,0,0-1.1.35l-2.92-2.91a1.92,1.92,0,0,0,.31-1,2,2,0,0,0-.29-1l3-3a2,2,0,0,0,1,.29,1.92,1.92,0,0,0,1.1-.35l2.91,2.92a2,2,0,0,0-.38,1.14,1.93,1.93,0,1,0,1.92-1.92Zm0-10.31a1,1,0,1,1-1,1A1,1,0,0,1,29.1,18.4Zm-5.55-5.59a1,1,0,1,1-1,1A1,1,0,0,1,23.55,12.81ZM17.92,18.4a1,1,0,0,1,0,2.08,1,1,0,0,1-.75-.32,1,1,0,0,1-.29-.72A1,1,0,0,1,17.92,18.4ZM11.24,25a1,1,0,0,1,2.08,0,1.06,1.06,0,0,1-.3.73A1,1,0,0,1,11.24,25Zm5.64,5.59a1,1,0,1,1,1,1A1,1,0,0,1,16.88,30.63Zm7.71,5.51a1,1,0,1,1-1-1A1,1,0,0,1,24.59,36.14Zm-1-10.1a1,1,0,1,1,1-1.05A1,1,0,0,1,23.55,26Zm5.55,5.63a1,1,0,1,1,1-1A1,1,0,0,1,29.1,31.67Z" transform="translate(-3 -5)" /></svg>
            </div>
          </Col>

          <Col lg={8}>
            <Chart  view={"layout"} data={currentData} updateData={updateData} />
          </Col>
        </Row>
      </div>

    )
  } else if (view == "tree") {
    return (
      <div className="frame-container">
        <Row>
          <Col lg={3}>
            <Toolbar view={"tree"} data={currentData} />
            <div onClick={() => setView("layout")} className="switch-btn">
              <svg width="100%" height="100%"><path d="M33.63,18.53a2,2,0,0,0-2.54,2.53L27.82,22.7a3.38,3.38,0,0,0-2.72-1.38,3.41,3.41,0,0,0-2.71,1.35l-2.76-1.89a2,2,0,0,0,.08-1,2,2,0,0,0-.84-1.29,2,2,0,0,0-1.5-.32,1.93,1.93,0,0,0-1.29.84,2,2,0,0,0-.33,1.5,2,2,0,0,0,2,1.65,1.55,1.55,0,0,0,.37,0h0a2,2,0,0,0,1-.49l2.82,1.93a3.37,3.37,0,0,0-.23,1.2,3.41,3.41,0,0,0,2.93,3.37v3a1.93,1.93,0,0,0-.93.52,2,2,0,0,0,0,2.84A2,2,0,0,0,25.1,35a2,2,0,0,0,1.42-3.43,1.94,1.94,0,0,0-.92-.52v-3a3.41,3.41,0,0,0,2.92-3.37,3.3,3.3,0,0,0-.22-1.18l3.33-1.66a2.26,2.26,0,0,0,.73.44,2.06,2.06,0,0,0,1.54-.11,2,2,0,0,0-.27-3.71Zm-15.71,2.6a1,1,0,1,1-.37-2l.19,0a1,1,0,0,1,.57.18,1,1,0,0,1,.42.65,1,1,0,0,1-.16.76A1,1,0,0,1,17.92,21.13Zm7.89,12.6a1,1,0,0,1-1.43,0,1,1,0,0,1,0-1.43A1,1,0,0,1,25.1,32a1,1,0,0,1,.71.29A1,1,0,0,1,25.81,33.73Zm-.71-6.56a2.43,2.43,0,1,1,2.42-2.42A2.43,2.43,0,0,1,25.1,27.17ZM34,20.76a1,1,0,0,1-1.28.64,1,1,0,0,1-.59-.51,1,1,0,0,1-.05-.77,1,1,0,0,1,.51-.59,1,1,0,0,1,.45-.1.93.93,0,0,1,.32.05A1,1,0,0,1,34,20.76Z" transform="translate(-6 -6)" /></svg>
            </div>
          </Col>
          <Col lg={8}>
            <Tree view={"tree"} wrapped={json} />
          </Col>
        </Row>
      </div>
    )
  }

}

export default Frame;
